# webapp5
Реализовано получение курса национальной валюты (из веб-сервиса ЦБ) к рублю и прогноз погоды в столице на ближайший час (из веб-сервиса Гисметео) по названию страны.
Метод GetResponseByCountry(String country) запрашивает название страны (строка), возвращает xml-структуру:

<Status>1</Status>
<Courses>
<currency>USD</currency>
<rate>66.0452</rate>
</Courses>
<Weather>
<city>Washington</city>
<forecast>
<ns3:time>2016-04-17T16:00:00</ns3:time>
<ns3:tod>2</ns3:tod>
<ns3:t>9.207036018371582</ns3:t>
<ns3:p>1006.3606567382812</ns3:p>
<ns3:cl>75</ns3:cl>
<ns3:prc>0.0</ns3:prc>
<ns3:prct>0</ns3:prct>
<ns3:dd>273.34979248046875</ns3:dd>
<ns3:ff>4.998339653015137</ns3:ff>
<ns3:st>0</ns3:st>
<ns3:humidity>55</ns3:humidity>
</forecast>
</Weather>

Сервис работает с БД MySQL. Соединение с БД происходит по адресу "localhost:3306/", т.е. для работы необходимо, чтобы БД находилась на той же машине, что и веб-сервер, и принимала соеднинения по стандартному порту 3306.
Перед работой необходимо выполнить в БД скрипт init_mysql.txt
В БД создается база webapp5, в ней содержатся таблицы:
countries - справочник стран со столицами и кодами валют.
attempts - попытки работы с веб-сервисом, содержит уникальный ид. и успешность попытки
querylog - журнал запросов/ответов, содержащий ид. попытки (ид. одинаковый для всех запросов в рамках одного использования метода GetResponseByCountry)
Файл .war предназначен для развертывания на glassfish. Сервис проверялся с помощью встроенного тестировщика glassfish - http://localhost:8080/webapp5-1/GetRateAndWeatherService?Tester (адрес-порт заменить при необходимости).
